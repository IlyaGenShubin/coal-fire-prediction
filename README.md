
## üåã –ü—Ä–æ–≥–Ω–æ–∑ —Å–∞–º–æ–≤–æ–∑–≥–æ—Ä–∞–Ω–∏—è —É–≥–ª—è

–í–µ–±-—Å–µ—Ä–≤–∏—Å –Ω–∞ –æ—Å–Ω–æ–≤–µ –º–∞—à–∏–Ω–Ω–æ–≥–æ –æ–±—É—á–µ–Ω–∏—è –¥–ª—è –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–∏—Å–∫–∞ —Å–∞–º–æ–≤–æ–∑–≥–æ—Ä–∞–Ω–∏—è —É–≥–æ–ª—å–Ω—ã—Ö —à—Ç–∞–±–µ–ª–µ–π.

---

## üìã –§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª

- –ü–æ—Å—Ç—Ä–æ–µ–Ω–∏–µ –µ–∂–µ–¥–Ω–µ–≤–Ω—ã—Ö –≤—Ä–µ–º–µ–Ω–Ω—ã—Ö —Ä—è–¥–æ–≤ –ø–æ —à—Ç–∞–±–µ–ª—è–º –Ω–∞ –æ—Å–Ω–æ–≤–µ –¥–∞–Ω–Ω—ã—Ö:
  - `supplies.csv` ‚Äî –ø–æ—Å—Ç—É–ø–ª–µ–Ω–∏–µ –∏ –æ—Ç–≥—Ä—É–∑–∫–∞ —É–≥–ª—è
  - `fires.csv` ‚Äî –¥–∞—Ç–∞ –∏ –º–µ—Å—Ç–æ –∑–∞—Ñ–∏–∫—Å–∏—Ä–æ–≤–∞–Ω–Ω—ã—Ö –≤–æ–∑–≥–æ—Ä–∞–Ω–∏–π
  - `temperature.csv` ‚Äî –∏–∑–º–µ—Ä–µ–Ω–∏—è —Ç–µ–º–ø–µ—Ä–∞—Ç—É—Ä—ã –≤ —à—Ç–∞–±–µ–ª—è—Ö
  - `weather_data_2019.csv`, `weather_data_2020.csv` ‚Äî –ø–æ–≥–æ–¥–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ
- –û–±—É—á–µ–Ω–∏–µ –º–æ–¥–µ–ª–∏ (CatBoost) –Ω–∞ –∏—Å—Ç–æ—Ä–∏—á–µ—Å–∫–∏—Ö –¥–∞–Ω–Ω—ã—Ö
- –ü—Ä–æ–≥–Ω–æ–∑ —Ä–∏—Å–∫–∞ –≤–æ–∑–≥–æ—Ä–∞–Ω–∏—è –≤ –±–ª–∏–∂–∞–π—à–∏–µ 5 –¥–Ω–µ–π
- –û—Ü–µ–Ω–∫–∞ –∫–∞—á–µ—Å—Ç–≤–∞ –º–æ–¥–µ–ª–∏ (Average Precision, Recall)
- API –¥–ª—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏

---

## üöÄ –ë—ã—Å—Ç—Ä—ã–π —Å—Ç–∞—Ä—Ç

### –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

- Docker –∏ Docker Compose (v2+)
- –î–æ—Å—Ç—É–ø –∫ –¥–∞–Ω–Ω—ã–º –≤ —Ñ–æ—Ä–º–∞—Ç–µ CSV (–≤ –ø–∞–ø–∫–µ `data/`)

### 1. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –ø—Ä–æ–µ–∫—Ç–∞

```bash
coal_fire_prediction/
‚îú‚îÄ‚îÄ app/
‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îú‚îÄ‚îÄ main.py                 # —Ç–æ—á–∫–∞ –≤—Ö–æ–¥–∞ FastAPI
‚îÇ   ‚îú‚îÄ‚îÄ models.py               # Pydantic –º–æ–¥–µ–ª–∏
‚îÇ   ‚îú‚îÄ‚îÄ schemas.py              # —Å—Ö–µ–º—ã –∑–∞–ø—Ä–æ—Å–æ–≤/–æ—Ç–≤–µ—Ç–æ–≤
‚îÇ   ‚îú‚îÄ‚îÄ services/
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ __init__.py
‚îÇ   ‚îÇ   ‚îú‚îÄ‚îÄ data_loader.py      # –∑–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö
‚îÇ   ‚îÇ   ‚îî‚îÄ‚îÄ predictor.py        # –ø—Ä–æ–≥–Ω–æ–∑–∏—Ä–æ–≤–∞–Ω–∏–µ
‚îÇ   ‚îî‚îÄ‚îÄ utils.py                # –≤—Å–ø–æ–º–æ–≥–∞—Ç–µ–ª—å–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏
‚îú‚îÄ‚îÄ data/
‚îÇ   ‚îú‚îÄ‚îÄ fires.csv
‚îÇ   ‚îú‚îÄ‚îÄ supplies.csv
‚îÇ   ‚îú‚îÄ‚îÄ temperature.csv
‚îÇ   ‚îú‚îÄ‚îÄ weather_data_2019.csv
‚îÇ   ‚îî‚îÄ‚îÄ weather_data_2020.csv
‚îú‚îÄ‚îÄ models/
‚îÇ   ‚îî‚îÄ‚îÄ model.pkl               # –æ–±—É—á–µ–Ω–Ω–∞—è –º–æ–¥–µ–ª—å CatBoost (—Å–æ—Ö—Ä–∞–Ω—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏)
‚îú‚îÄ‚îÄ Dockerfile
‚îú‚îÄ‚îÄ requirements.txt
‚îú‚îÄ‚îÄ README.md
‚îî‚îÄ‚îÄ train_model.py              # —Å–∫—Ä–∏–ø—Ç –¥–ª—è –æ–±—É—á–µ–Ω–∏—è –º–æ–¥–µ–ª–∏ (–º–æ–∂–Ω–æ –∑–∞–ø—É—Å–∫–∞—Ç—å –æ—Ç–¥–µ–ª—å–Ω–æ)
```

> ‚ö†Ô∏è –£–±–µ–¥–∏—Ç–µ—Å—å, —á—Ç–æ —Ñ–∞–π–ª—ã –¥–∞–Ω–Ω—ã—Ö –Ω–∞—Ö–æ–¥—è—Ç—Å—è –≤ –ø–∞–ø–∫–µ `data/` **–¥–æ –∑–∞–ø—É—Å–∫–∞**.

### 2. –ó–∞–ø—É—Å–∫

```bash
# –°–æ–±—Ä–∞—Ç—å –∏ –∑–∞–ø—É—Å—Ç–∏—Ç—å –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä
docker-compose up --build
```

–ü—Ä–∏ –ø–µ—Ä–≤–æ–º –∑–∞–ø—É—Å–∫–µ:
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∏—Ç –¥–∞–Ω–Ω—ã–µ
- –û–±—É—á–∏—Ç –º–æ–¥–µ–ª—å CatBoost
- –°–æ—Ö—Ä–∞–Ω–∏—Ç –µ—ë –≤ `models/model.pkl`
- –ó–∞–ø—É—Å—Ç–∏—Ç API –Ω–∞ `http://localhost:8000`

> üîÅ –ü—Ä–∏ –ø–æ–≤—Ç–æ—Ä–Ω–æ–º –∑–∞–ø—É—Å–∫–µ –º–æ–¥–µ–ª—å **–Ω–µ –±—É–¥–µ—Ç –ø–µ—Ä–µ–æ–±—É—á–∞—Ç—å—Å—è**, –µ—Å–ª–∏ `models/model.pkl` —Å—É—â–µ—Å—Ç–≤—É–µ—Ç.

### 3. –û—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
# –í —Ç–æ–º –∂–µ —Ç–µ—Ä–º–∏–Ω–∞–ª–µ: Ctrl+C
# –ò–ª–∏ –≤ –¥—Ä—É–≥–æ–º —Ç–µ—Ä–º–∏–Ω–∞–ª–µ:
docker-compose down
```

---

## üì° API Endpoints

–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –¥–æ—Å—Ç—É–ø–Ω—ã —Å–ª–µ–¥—É—é—â–∏–µ —ç–Ω–¥–ø–æ–∏–Ω—Ç—ã:

### `POST /predict`
–ü–æ–ª—É—á–∏—Ç—å –ø—Ä–æ–≥–Ω–æ–∑ —Ä–∏—Å–∫–∞ —Å–∞–º–æ–≤–æ–∑–≥–æ—Ä–∞–Ω–∏—è.

**–ü—Ä–∏–º–µ—Ä –∑–∞–ø—Ä–æ—Å–∞:**
```bash
curl -X POST "http://localhost:8000/predict" \
  -H "Content-Type: application/json" \
  -d '{"sklad": 1, "shtabel": 6, "date": "2020-08-05"}'
```


**–ü—Ä–∏–º–µ—Ä –æ—Ç–≤–µ—Ç–∞:**
```json
{"message": "–†–∏—Å–∫ —Å–∞–º–æ–≤–æ–∑–≥–æ—Ä–∞–Ω–∏—è: 12.34%"}
```

---

### `GET /metrics`
–ü–æ–ª—É—á–∏—Ç—å –º–µ—Ç—Ä–∏–∫–∏ –∫–∞—á–µ—Å—Ç–≤–∞ –º–æ–¥–µ–ª–∏.

**–ü—Ä–∏–º–µ—Ä:**
```bash
curl http://localhost:8000/metrics
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "average_precision": 0.9999,
  "recall": 1.0,
  "feature_importance": {
    "–≤–µ—Å_–Ω–∞–∫–æ–ø": 81.87,
    "age_days": 13.10,
    "temp_last": 0.90,
    ...
  }
}
```

---

### `GET /calendar`
–ü–æ–ª—É—á–∏—Ç—å –∫–∞–ª–µ–Ω–¥–∞—Ä—å —Ä–µ–∞–ª—å–Ω—ã—Ö –ø–æ–∂–∞—Ä–æ–≤ (—Ü–µ–ª–µ–≤–∞—è –ø–µ—Ä–µ–º–µ–Ω–Ω–∞—è = 1).

**–ü—Ä–∏–º–µ—Ä:**
```bash
curl http://localhost:8000/calendar
```

**–û—Ç–≤–µ—Ç:**
```json
{
  "fires": [
    {"–°–∫–ª–∞–¥": "A1", "–®—Ç–∞–±–µ–ª—å": 6, "date": "2020-08-20"},
    {"–°–∫–ª–∞–¥": "A1", "–®—Ç–∞–±–µ–ª—å": 1, "date": "2020-09-26"},
    ...
  ]
}
```

---

## üß™ –ò–Ω—Ç–µ—Ä–∞–∫—Ç–∏–≤–Ω–∞—è –¥–æ–∫—É–º–µ–Ω—Ç–∞—Ü–∏—è

–û—Ç–∫—Ä–æ–π—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ:

üëâ [http://localhost:8000/docs](http://localhost:8000/docs)

–í—ã —É–≤–∏–¥–∏—Ç–µ:
- –°–ø–∏—Å–æ–∫ –≤—Å–µ—Ö —ç–Ω–¥–ø–æ–∏–Ω—Ç–æ–≤
- –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —Ç–µ—Å—Ç–æ–≤—ã–π –∑–∞–ø—Ä–æ—Å
- –°—Ö–µ–º—ã –≤—Ö–æ–¥–Ω—ã—Ö –∏ –≤—ã—Ö–æ–¥–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö

---

## ‚öôÔ∏è –¢–µ—Ö–Ω–æ–ª–æ–≥–∏–∏

- **–ë—ç–∫–µ–Ω–¥**: FastAPI
- **–ú–æ–¥–µ–ª—å**: CatBoost Classifier
- **–ö–æ–Ω—Ç–µ–π–Ω–µ—Ä–∏–∑–∞—Ü–∏—è**: Docker + Docker Compose
- **–Ø–∑—ã–∫**: Python 3.10

---

